<Project Sdk="Microsoft.NET.Sdk">

  <PropertyGroup>
    <!-- 
      These were automatically generated for you by the LCMPublishingTemplate.
      You should probably not edit them by hand if you've already published
      to the Thunderstore
    -->
    <TargetFramework>netstandard2.1</TargetFramework>
    <AssemblyName>__PROJECT_GUID__</AssemblyName>
    <Description>__PROJECT_DESC__</Description>
    <Product>LCMPublishingTemplate</Product>
    <Authors>__PROJECT_AUTHOR__</Authors>
    <!--
      Except this, you should keep this up to date with your publishing tags
    -->
    <Version>1.0.0</Version>
    <Nullable>enable</Nullable>
    <LangVersion>latest</LangVersion>
    <RootNamespace>LCMPublishingTemplate</RootNamespace>
    <RepositoryType>git</RepositoryType>
    <RepositoryUrl>__PROJECT_URL__</RepositoryUrl>
  </PropertyGroup>

  <PropertyGroup>
    <OutputPath>./tspublish/dist/plugins</OutputPath>
    <TargetName>LCMPublishingTemplate</TargetName>
    <AppendTargetFrameworkToOutputPath>false</AppendTargetFrameworkToOutputPath>
  </PropertyGroup>

  <Import Project="InfoProps.targets" />

  <!--
    this marks all references as not copied, so they won't be copied to the
    output folder and clutter up your build env. Great for local builds, tho
    not required for the github action
  -->
  <Target Name="ClearReferenceCopyLocalPaths" AfterTargets="ResolveAssemblyReferences">
    <ItemGroup>
      <ReferenceCopyLocalPaths Remove="@(ReferenceCopyLocalPaths)" />
    </ItemGroup>
  </Target>

  <!--
    Don't mess with anything below this line, it is required to build via 
    github actions. If you are referencing other DLLs in your project than the
    base game or unity DLLs they will need to be available via NUGET or copied
    directly into your repo (which is pretty bad form) to build properly unless
    they already exist on github in which case you can use submodules to track
    the reference instead.
  -->

  <ItemGroup>
    <PackageReference Include="BepInEx.Analyzers" Version="1.*" PrivateAssets="all" />
    <PackageReference Include="BepInEx.Core" Version="5.*" />
    <!--<PackageReference
    Include="BepInEx.PluginInfoProps" Version="2.*" />-->
    <PackageReference Include="LethalCompany.GameLibs.Steam" Version="56.0.1-ngd.0" />
    <PackageReference Include="UnityEngine.Modules" Version="2023.2.4" IncludeAssets="compile" />
  </ItemGroup>

  <ItemGroup Condition="'$(TargetFramework.TrimEnd(`0123456789`))' == 'net'">
    <PackageReference Include="Microsoft.NETFramework.ReferenceAssemblies" Version="1.0.2"
      PrivateAssets="all" />
  </ItemGroup>

</Project>
